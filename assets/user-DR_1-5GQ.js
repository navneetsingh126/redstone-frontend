import{a8 as z,j as e,g as B,a as E,r as l,b as W,c as L,h as V,s as O,F as k,f as H,a9 as G,m as U,B as P,e as v,A as q,I as u,p as I,P as Q,q as _,v as A,w as D,a7 as J,aa as N,ab as K,l as X,S as Y,ac as m,V as Z}from"./index-CbRCKR0p.js";import{D as ee}from"./content-CXmnYX_r.js";import{T as S,a as p,b as se,c as te,d as oe}from"./TableRow-CJ_r-2p1.js";import{L as re}from"./label-DKPXK4RR.js";import"./styles-C_5QBpYx.js";import{C as M}from"./Checkbox-D3DhFBh_.js";import{T as ne,a as ae}from"./TablePagination-rKKJSa4o.js";import{O as ie}from"./Select-DPM53_uB.js";import{C as ce}from"./Card-CTtEsAmD.js";import{T as le}from"./TableContainer-Ck2B5eTW.js";import"./KeyboardArrowRight-dpFLvVC_.js";import"./LastPage-C8CS0Yxb.js";const de=z(e.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function pe(s){return E("MuiTableSortLabel",s)}const R=B("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),xe=s=>{const{classes:t,direction:o,active:r}=s,a={root:["root",r&&"active",`direction${k(o)}`],icon:["icon",`iconDirection${k(o)}`]};return H(a,pe,t)},ue=O(G,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:o}=s;return[t.root,o.active&&t.active]}})(U(({theme:s})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(s.vars||s).palette.text.secondary},"&:hover":{color:(s.vars||s).palette.text.secondary,[`& .${R.icon}`]:{opacity:.5}},[`&.${R.active}`]:{color:(s.vars||s).palette.text.primary,[`& .${R.icon}`]:{opacity:1,color:(s.vars||s).palette.text.secondary}}}))),he=O("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(s,t)=>{const{ownerState:o}=s;return[t.icon,t[`iconDirection${k(o.direction)}`]]}})(U(({theme:s})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:s.transitions.create(["opacity","transform"],{duration:s.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),ge=l.forwardRef(function(t,o){const r=W({props:t,name:"MuiTableSortLabel"}),{active:a=!1,children:c,className:n,direction:i="asc",hideSortIcon:g=!1,IconComponent:b=de,slots:y={},slotProps:w={},...C}=r,h={...r,active:a,direction:i,hideSortIcon:g,IconComponent:b},j=xe(h),f={slots:y,slotProps:w},[d,x]=L("root",{elementType:ue,externalForwardedProps:f,ownerState:h,className:V(j.root,n),ref:o}),[T,$]=L("icon",{elementType:he,externalForwardedProps:f,ownerState:h,className:j.icon});return e.jsxs(d,{disableRipple:!0,component:"span",...x,...C,children:[c,g&&!a?null:e.jsx(T,{as:b,...$})]})});function me({searchQuery:s,...t}){return e.jsx(S,{...t,children:e.jsx(p,{align:"center",colSpan:7,children:e.jsxs(P,{sx:{py:15,textAlign:"center"},children:[e.jsx(v,{variant:"h6",sx:{mb:1},children:"Not found"}),e.jsxs(v,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',s,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function be({row:s,selected:t,onSelectRow:o}){const[r,a]=l.useState(null),c=l.useCallback(i=>{a(i.currentTarget)},[]),n=l.useCallback(()=>{a(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(S,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,children:[e.jsx(p,{padding:"checkbox",children:e.jsx(M,{disableRipple:!0,checked:t,onChange:o})}),e.jsx(p,{component:"th",scope:"row",children:e.jsxs(P,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(q,{alt:s.name,src:s.avatarUrl}),s.name]})}),e.jsx(p,{children:s.company}),e.jsx(p,{children:s.role}),e.jsx(p,{align:"center",children:s.isVerified?e.jsx(u,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):"-"}),e.jsx(p,{children:e.jsx(re,{color:s.status==="banned"&&"error"||"success",children:s.status})}),e.jsx(p,{align:"right",children:e.jsx(I,{onClick:c,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(Q,{open:!!r,anchorEl:r,onClose:n,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs(_,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${D.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${D.selected}`]:{bgcolor:"action.selected"}}},children:[e.jsxs(A,{onClick:n,children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(A,{onClick:n,sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}const je={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function fe(s,t,o){return s?Math.max(0,(1+s)*t-o):0}function F(s,t,o){return t[o]<s[o]?-1:t[o]>s[o]?1:0}function ve(s,t){return s==="desc"?(o,r)=>F(o,r,t):(o,r)=>-F(o,r,t)}function Pe({inputData:s,comparator:t,filterName:o}){const r=s.map((a,c)=>[a,c]);return r.sort((a,c)=>{const n=t(a[0],c[0]);return n!==0?n:a[1]-c[1]}),s=r.map(a=>a[0]),o&&(s=s.filter(a=>a.name.toLowerCase().indexOf(o.toLowerCase())!==-1)),s}function Se({order:s,onSort:t,orderBy:o,rowCount:r,headLabel:a,numSelected:c,onSelectAllRows:n}){return e.jsx(se,{children:e.jsxs(S,{children:[e.jsx(p,{padding:"checkbox",children:e.jsx(M,{indeterminate:c>0&&c<r,checked:r>0&&c===r,onChange:i=>n(i.target.checked)})}),a.map(i=>e.jsx(p,{align:i.align||"left",sortDirection:o===i.id?s:!1,sx:{width:i.width,minWidth:i.minWidth},children:e.jsxs(ge,{hideSortIcon:!0,active:o===i.id,direction:o===i.id?s:"asc",onClick:()=>t(i.id),children:[i.label,o===i.id?e.jsx(P,{sx:{...je},children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))]})})}function ye({emptyRows:s,height:t,sx:o,...r}){return s?e.jsx(S,{sx:[t&&{height:t*s},...Array.isArray(o)?o:[o]],...r,children:e.jsx(p,{colSpan:9})}):null}function we({numSelected:s,filterName:t,onFilterName:o}){return e.jsxs(ne,{sx:{height:96,display:"flex",justifyContent:"space-between",p:r=>r.spacing(0,1,0,3),...s>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[s>0?e.jsxs(v,{component:"div",variant:"subtitle1",children:[s," selected"]}):e.jsx(ie,{fullWidth:!0,value:t,onChange:o,placeholder:"Search user...",startAdornment:e.jsx(J,{position:"start",children:e.jsx(u,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),s>0?e.jsx(N,{title:"Delete",children:e.jsx(I,{children:e.jsx(u,{icon:"solar:trash-bin-trash-bold"})})}):e.jsx(N,{title:"Filter list",children:e.jsx(I,{children:e.jsx(u,{icon:"ic:round-filter-list"})})})]})}function Ce(){const s=K(),t=Te(),[o,r]=l.useState(""),a=Pe({inputData:m,comparator:ve(t.order,t.orderBy),filterName:o}),c=!a.length&&!!o;return e.jsxs(ee,{children:[e.jsxs(P,{sx:{mb:5,display:"flex",alignItems:"center"},children:[e.jsx(v,{variant:"h4",sx:{flexGrow:1},children:"Users"}),e.jsx(X,{variant:"contained",color:"inherit",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),onClick:()=>s.push("/user/create"),children:"New user"})]}),e.jsxs(ce,{children:[e.jsx(we,{numSelected:t.selected.length,filterName:o,onFilterName:n=>{r(n.target.value),t.onResetPage()}}),e.jsx(Y,{children:e.jsx(le,{sx:{overflow:"unset"},children:e.jsxs(te,{sx:{minWidth:800},children:[e.jsx(Se,{order:t.order,orderBy:t.orderBy,rowCount:m.length,numSelected:t.selected.length,onSort:t.onSort,onSelectAllRows:n=>t.onSelectAllRows(n,m.map(i=>i.id)),headLabel:[{id:"name",label:"Name"},{id:"company",label:"Company"},{id:"role",label:"Role"},{id:"isVerified",label:"Verified",align:"center"},{id:"status",label:"Status"},{id:""}]}),e.jsxs(oe,{children:[a.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map(n=>e.jsx(be,{row:n,selected:t.selected.includes(n.id),onSelectRow:()=>t.onSelectRow(n.id)},n.id)),e.jsx(ye,{height:68,emptyRows:fe(t.page,t.rowsPerPage,m.length)}),c&&e.jsx(me,{searchQuery:o})]})]})})}),e.jsx(ae,{component:"div",page:t.page,count:m.length,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:t.onChangeRowsPerPage})]})]})}function Te(){const[s,t]=l.useState(0),[o,r]=l.useState("name"),[a,c]=l.useState(5),[n,i]=l.useState([]),[g,b]=l.useState("asc"),y=l.useCallback(d=>{b(o===d&&g==="asc"?"desc":"asc"),r(d)},[g,o]),w=l.useCallback((d,x)=>{if(d){i(x);return}i([])},[]),C=l.useCallback(d=>{const x=n.includes(d)?n.filter(T=>T!==d):[...n,d];i(x)},[n]),h=l.useCallback(()=>{t(0)},[]),j=l.useCallback((d,x)=>{t(x)},[]),f=l.useCallback(d=>{c(parseInt(d.target.value,10)),h()},[h]);return{page:s,order:g,onSort:y,orderBy:o,selected:n,rowsPerPage:a,onSelectRow:C,onResetPage:h,onChangePage:j,onSelectAllRows:w,onChangeRowsPerPage:f}}function ze(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Users - ${Z.appName}`}),e.jsx(Ce,{})]})}export{ze as default};
